<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STEM Academy - Game-Based Learning Platform</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Auth Page -->
    <div id="authPage" class="auth-page">
        <div class="auth-card">
            <div class="auth-header">
                <h1>üöÄ STEM ACADEMY</h1>
                <p style="color: var(--text-secondary);">Level Up Your Learning Through Gaming</p>
            </div>

            <div class="auth-tabs">
                <button class="auth-tab active" onclick="switchAuthTab('login')">Login</button>
                <button class="auth-tab" onclick="switchAuthTab('signup')">Sign Up</button>
            </div>

            <!-- Login Form -->
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label>Username or Email</label>
                    <input type="text" id="loginUsername" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" class="form-control" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">LOGIN</button>
            </form>

            <!-- Signup Form -->
            <form id="signupForm" class="hidden" onsubmit="handleSignup(event)">
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" id="signupUsername" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="signupEmail" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="signupPassword" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>Confirm Password</label>
                    <input type="password" id="signupConfirmPassword" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>Select Role</label>
                    <div class="role-selector">
                        <div class="role-option" onclick="selectRole('student')">
                            <div class="icon">üéì</div>
                            <div>Student</div>
                        </div>
                        <div class="role-option" onclick="selectRole('teacher')">
                            <div class="icon">üë®‚Äçüè´</div>
                            <div>Teacher</div>
                        </div>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">CREATE ACCOUNT</button>
            </form>

            <div style="text-align: center; margin-top: 20px; color: var(--text-secondary);">
                <a onclick="continueAsGuest()" style="color: var(--primary); cursor: pointer;">Continue as Guest ‚Üí</a>
            </div>

            <div style="text-align: center; margin-top: 20px;">
                <button onclick="toggleLanguage()" style="background: transparent; border: 1px solid var(--card-border); color: var(--text-secondary); padding: 8px 16px; border-radius: 6px; cursor: pointer;">
                    <span id="langToggleText">üåê Switch to Hindi</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="hidden">
        <!-- Navbar -->
        <nav class="navbar">
            <div class="navbar-content">
                <div class="logo">STEM ACADEMY</div>
                <div class="nav-links">
                    <a class="nav-link active" onclick="navigateTo('dashboard')">Dashboard</a>
                    <a class="nav-link" onclick="navigateTo('learn')">Learn</a>
                    <a class="nav-link" onclick="navigateTo('labs')">Labs</a>
                    <a class="nav-link" onclick="navigateTo('leaderboard')">Leaderboard</a>
                    <a class="nav-link hidden" id="teacherNav" onclick="navigateTo('teacher')">Analytics</a>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="user-avatar" onclick="navigateTo('profile')" id="userAvatar">U</div>
                    <a class="nav-link" onclick="logout()">Logout</a>
                </div>
            </div>
        </nav>

        <!-- Stats Bar -->
        <div class="stats-bar">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">‚ö°</div>
                    <div class="stat-value" id="userLevel">1</div>
                    <div class="stat-label">Level</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üéØ</div>
                    <div class="stat-value" id="userXP">0</div>
                    <div class="stat-label">XP</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üî•</div>
                    <div class="stat-value" id="userStreak">0</div>
                    <div class="stat-label">Streak</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üèÜ</div>
                    <div class="stat-value" id="userBadges">0</div>
                    <div class="stat-label">Badges</div>
                </div>
            </div>
        </div>

        <!-- Dashboard Page -->
        <div id="dashboardPage" class="container">
            <h2 style="margin: 30px 0;">Welcome Back, <span id="welcomeUsername">Student</span>! üéÆ</h2>
            
            <div class="dashboard-grid">
                <!-- Math Card -->
                <div class="card subject-card math" onclick="startSubject('math')">
                    <div class="card-header">
                        <h3>Mathematics</h3>
                        <div style="font-size: 32px;">üî¢</div>
                    </div>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">Master numbers, algebra, and geometry</p>
                    <div style="display: flex; justify-content: space-between; color: var(--text-secondary); font-size: 14px;">
                        <span>Progress: 45%</span>
                        <span>12 Lessons</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 45%; background: var(--math-color);"></div>
                    </div>
                </div>

                <!-- Science Card -->
                <div class="card subject-card science" onclick="startSubject('science')">
                    <div class="card-header">
                        <h3>Science</h3>
                        <div style="font-size: 32px;">üî¨</div>
                    </div>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">Explore physics, chemistry, and biology</p>
                    <div style="display: flex; justify-content: space-between; color: var(--text-secondary); font-size: 14px;">
                        <span>Progress: 30%</span>
                        <span>15 Lessons</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 30%; background: var(--science-color);"></div>
                    </div>
                </div>

                <!-- Technology Card -->
                <div class="card subject-card tech" onclick="startSubject('technology')">
                    <div class="card-header">
                        <h3>Technology</h3>
                        <div style="font-size: 32px;">üíª</div>
                    </div>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">Code, algorithms, and digital systems</p>
                    <div style="display: flex; justify-content: space-between; color: var(--text-secondary); font-size: 14px;">
                        <span>Progress: 60%</span>
                        <span>10 Lessons</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 60%; background: var(--tech-color);"></div>
                    </div>
                </div>

                <!-- Engineering Card -->
                <div class="card subject-card engineering" onclick="startSubject('engineering')">
                    <div class="card-header">
                        <h3>Engineering</h3>
                        <div style="font-size: 32px;">‚öôÔ∏è</div>
                    </div>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">Build, design, and solve problems</p>
                    <div style="display: flex; justify-content: space-between; color: var(--text-secondary); font-size: 14px;">
                        <span>Progress: 20%</span>
                        <span>14 Lessons</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 20%; background: var(--engineering-color);"></div>
                    </div>
                </div>

                <!-- Streak Tracker -->
                <div class="card">
                    <div class="card-header">
                        <h3>15-Day Streak</h3>
                        <div style="font-size: 32px;">üî•</div>
                    </div>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">Keep your learning momentum going!</p>
                    <div class="streak-tracker" id="streakTracker"></div>
                </div>

                <!-- Badges -->
                <div class="card">
                    <div class="card-header">
                        <h3>Achievements</h3>
                        <div style="font-size: 32px;">üèÜ</div>
                    </div>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">Collect badges by completing challenges</p>
                    <div class="badges-grid" id="badgesGrid"></div>
                </div>
            </div>
        </div>

        <!-- Quiz Page -->
        <div id="quizPage" class="hidden">
            <div class="quiz-container">
                <div class="quiz-header">
                    <h2 id="quizSubject">Quiz</h2>
                    <div style="display: flex; justify-content: space-between; margin-top: 20px; color: var(--text-secondary);">
                        <span>Question <span id="currentQuestion">1</span>/<span id="totalQuestions">5</span></span>
                        <span>‚è±Ô∏è Time: <span id="quizTimer">00:00</span></span>
                    </div>
                    <div class="progress-bar" style="margin-top: 15px;">
                        <div class="progress-fill" id="quizProgress" style="width: 20%; background: var(--primary);"></div>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-text" id="questionText"></div>
                    <div class="options-grid" id="optionsGrid"></div>
                    <div class="hint-box" id="hintBox">
                        <span style="color: var(--accent); margin-right: 10px;">üí°</span>
                        <span id="hintText"></span>
                    </div>
                </div>

                <div style="display: flex; gap: 15px; justify-content: center;">
                    <button class="btn btn-secondary" onclick="showHint()" id="hintBtn">üí° Get Hint</button>
                    <button class="btn btn-primary" onclick="nextQuestion()" id="nextBtn" disabled>Next Question ‚Üí</button>
                </div>
            </div>
        </div>

        <!-- Virtual Labs Page -->
        <div id="labsPage" class="hidden">
            <div class="container">
                <h2 style="margin: 30px 0;">Virtual Labs üß™</h2>
                <div class="dashboard-grid">
                    <div class="card" onclick="showToast('Circuit Lab - Click elements to connect! ‚ö°', 'success')">
                        <div class="card-header">
                            <h3>Circuit Builder</h3>
                            <div style="font-size: 32px;">‚ö°</div>
                        </div>
                        <p style="color: var(--text-secondary);">Build and test electrical circuits</p>
                    </div>
                    <div class="card" onclick="showToast('Motion Simulator - Adjust velocity and watch! üöÄ', 'success')">
                        <div class="card-header">
                            <h3>Motion Simulator</h3>
                            <div style="font-size: 32px;">üöÄ</div>
                        </div>
                        <p style="color: var(--text-secondary);">Explore velocity and acceleration</p>
                    </div>
                    <div class="card" onclick="showToast('Chemistry Lab - Mix elements safely! üß™', 'success')">
                        <div class="card-header">
                            <h3>Chemistry Lab</h3>
                            <div style="font-size: 32px;">üß™</div>
                        </div>
                        <p style="color: var(--text-secondary);">Mix elements and observe reactions</p>
                    </div>
                    <div class="card" onclick="showToast('Geometry Studio - Create shapes! üìê', 'success')">
                        <div class="card-header">
                            <h3>Geometry Studio</h3>
                            <div style="font-size: 32px;">üìê</div>
                        </div>
                        <p style="color: var(--text-secondary);">Create and transform shapes</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Leaderboard Page -->
        <div id="leaderboardPage" class="hidden">
            <div class="container">
                <h2 style="margin: 30px 0;">Global Leaderboard üèÜ</h2>
                <div id="leaderboardList"></div>
            </div>
        </div>

        <!-- Profile Page -->
        <div id="profilePage" class="hidden">
            <div class="container" style="max-width: 1000px; padding: 40px 20px;">
                <div class="card" style="text-align: center; padding: 40px;">
                    <div class="user-avatar" id="profileAvatar" style="width: 120px; height: 120px; font-size: 48px; margin: 0 auto 20px;"></div>
                    <h2 id="profileName">Username</h2>
                    <p style="color: var(--text-secondary); text-transform: uppercase;" id="profileRole">Student</p>
                    
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 30px;">
                        <div class="stat-card">
                            <div class="stat-icon">‚ö°</div>
                            <div class="stat-value" id="profileLevel">1</div>
                            <div class="stat-label">Level</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üéØ</div>
                            <div class="stat-value" id="profileXP">0</div>
                            <div class="stat-label">Total XP</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üî•</div>
                            <div class="stat-value" id="profileStreak">0</div>
                            <div class="stat-label">Streak</div>
                        </div>
                    </div>
                </div>

                <div class="card" style="margin-top: 30px;">
                    <h3 style="margin-bottom: 20px;">Learning Progress</h3>
                    <div style="display: grid; gap: 20px;">
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span>üî¢ Mathematics</span>
                                <span style="color: var(--math-color);">45%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 45%; background: var(--math-color);"></div>
                            </div>
                        </div>
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span>üî¨ Science</span>
                                <span style="color: var(--science-color);">30%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 30%; background: var(--science-color);"></div>
                            </div>
                        </div>
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span>üíª Technology</span>
                                <span style="color: var(--tech-color);">60%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 60%; background: var(--tech-color);"></div>
                            </div>
                        </div>
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span>‚öôÔ∏è Engineering</span>
                                <span style="color: var(--engineering-color);">20%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 20%; background: var(--engineering-color);"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Teacher Dashboard -->
        <div id="teacherPage" class="hidden">
            <div class="container">
                <h2 style="margin: 30px 0;">Teacher Analytics üìä</h2>

                <div class="dashboard-grid">
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">Student Performance</h3>
                        <div style="display: grid; gap: 15px;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <span style="min-width: 80px;">Week 1</span>
                                <div class="progress-bar" style="flex: 1;">
                                    <div class="progress-fill" style="width: 75%; background: var(--primary);"></div>
                                </div>
                                <span style="color: var(--primary); font-weight: 700;">75%</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <span style="min-width: 80px;">Week 2</span>
                                <div class="progress-bar" style="flex: 1;">
                                    <div class="progress-fill" style="width: 82%; background: var(--primary);"></div>
                                </div>
                                <span style="color: var(--primary); font-weight: 700;">82%</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <span style="min-width: 80px;">Week 3</span>
                                <div class="progress-bar" style="flex: 1;">
                                    <div class="progress-fill" style="width: 88%; background: var(--primary);"></div>
                                </div>
                                <span style="color: var(--primary); font-weight: 700;">88%</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <span style="min-width: 80px;">Week 4</span>
                                <div class="progress-bar" style="flex: 1;">
                                    <div class="progress-fill" style="width: 91%; background: var(--success);"></div>
                                </div>
                                <span style="color: var(--success); font-weight: 700;">91%</span>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h3 style="margin-bottom: 20px;">Engagement Metrics</h3>
                        <div style="display: grid; gap: 15px;">
                            <div class="stat-card">
                                <div class="stat-icon">üë•</div>
                                <div class="stat-value">24</div>
                                <div class="stat-label">Active Students</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üìù</div>
                                <div class="stat-value">142</div>
                                <div class="stat-label">Quizzes Completed</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">‚è±Ô∏è</div>
                                <div class="stat-value">3.5h</div>
                                <div class="stat-label">Avg. Daily Time</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h3 style="margin-bottom: 20px;">Concept Weaknesses</h3>
                        <div style="display: grid; gap: 15px;">
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span>Algebra</span>
                                    <span style="color: var(--danger);">35% Weak</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 35%; background: var(--danger);"></div>
                                </div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span>Physics</span>
                                    <span style="color: var(--warning);">42% Weak</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 42%; background: var(--warning);"></div>
                                </div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span>Coding</span>
                                    <span style="color: var(--success);">18% Weak</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 18%; background: var(--success);"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card" style="margin-top: 20px;">
                    <h3 style="margin-bottom: 20px;">Recommendations</h3>
                    <div style="display: grid; gap: 15px;">
                        <div style="padding: 15px; background: rgba(255, 153, 0, 0.1); border: 2px solid var(--warning); border-radius: 12px;">
                            <strong style="color: var(--warning);">‚ö†Ô∏è Action Needed:</strong> 
                            <span style="color: var(--text-secondary);"> Algebra concepts need reinforcement.</span>
                        </div>
                        <div style="padding: 15px; background: rgba(0, 255, 136, 0.1); border: 2px solid var(--success); border-radius: 12px;">
                            <strong style="color: var(--success);">‚úÖ Great Progress:</strong> 
                            <span style="color: var(--text-secondary);"> Strong improvement in coding fundamentals.</span>
                        </div>
                    </div>
                </div>

                <div style="display: flex; gap: 15px; margin-top: 30px;">
                    <button class="btn btn-primary" onclick="showToast('PDF Report Generated! üìÑ', 'success')">üìÑ Export PDF</button>
                    <button class="btn btn-secondary" onclick="showToast('CSV Data Exported! üìä', 'success')">üìä Export CSV</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
